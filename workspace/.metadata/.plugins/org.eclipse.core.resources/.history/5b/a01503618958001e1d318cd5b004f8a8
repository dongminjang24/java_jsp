create database coco_market;

use coco_market;




CREATE TABLE tbl_tag_relative(
    item_number BIGINT UNSIGNED NOT NULL,
    item_tag_number INT NOT NULL,
    FOREIGN KEY (item_number) CONSTRAINT fk_tag_relative_item_number REFERENCES tbl_item(item_number),
    FOREIGN KEY (item_tag_number) REFERENCES tbl_item_tag(item_tag_number)
);


ALTER TABLE tbl_tag_relative
ADD CONSTRAINT fk_tag_relative_item_number
FOREIGN KEY (item_number) REFERENCES tbl_item(item_number);

ALTER TABLE tbl_tag_relative
ADD CONSTRAINT fk_tag_relative_item_tag_number
FOREIGN KEY (item_tag_number) REFERENCES tbl_item_tag(item_tag_number);


select * from tbl_tag_relative;
select * from tbl_item_tag;

create table tbl_item_tag(
	item_tag_number int PRIMARY KEY,
	item_tag_name varchar(255)
);

ALTER TABLE tbl_item_tag
ADD CONSTRAINT fk_tag_relative_item_tag_number
FOREIGN KEY (item_tag_number) REFERENCES tbl_item_tag(item_tag_number);



select * from tbl_item_tag;
ALTER TABLE tbl_item_tag ADD UNIQUE (item_tag_name);
ALTER TABLE tbl_tag_relative DROP FOREIGN KEY fk_tag_relative_item_tag_number;
ALTER TABLE tbl_item_tag MODIFY COLUMN item_tag_number INT AUTO_INCREMENT;
ALTER TABLE tbl_tag_relative
ADD CONSTRAINT fk_tag_relative_item_tag_number
FOREIGN KEY (item_tag_number) REFERENCES tbl_item_tag(item_tag_number);

